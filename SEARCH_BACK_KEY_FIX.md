# ğŸ”§ æœç´¢é¡µé¢è¿”å›é”®äº‹ä»¶ä¿®å¤

## ä¿®å¤å†…å®¹

### é—®é¢˜åˆ†æ
æœç´¢é¡µé¢çš„è¿”å›/å–æ¶ˆé”®ç›˜äº‹ä»¶å¤„ç†æœ‰é—®é¢˜ï¼Œå¯èƒ½å¯¼è‡´ï¼š
- è¿”å›é”®æ— æ³•æ­£ç¡®å“åº”
- ç„¦ç‚¹çŠ¶æ€åˆ¤æ–­é”™è¯¯
- å¯¼èˆªé€»è¾‘ä¸æ¸…æ™°

### ä¿®å¤æ–¹æ¡ˆ

#### 1. å®Œå–„è¿”å›é”®å¤„ç†é€»è¾‘
```dart
KeyEventResult _handleBack() {
  // æ£€æŸ¥å½“å‰ç„¦ç‚¹æ˜¯å¦åœ¨è¿”å›æŒ‰é’®æˆ–æ¸…é™¤æŒ‰é’®ä¸Š
  if (controller.backButtonFocusNode.hasFocus) {
    Get.back();
    return KeyEventResult.handled;
  }
  
  if (controller.clearButtonFocusNode.hasFocus) {
    controller.navigateToSearch();
    return KeyEventResult.handled;
  }
  
  switch (controller.focusedArea.value) {
    case 'sources':
      controller.navigateToSearch();
      return KeyEventResult.handled;
    case 'results':
      controller.navigateToSources();
      return KeyEventResult.handled;
    default:
      Get.back();
      return KeyEventResult.handled;
  }
}
```

#### 2. è¿”å›é”®å¤„ç†ä¼˜å…ˆçº§
1. **è¿”å›æŒ‰é’®ç„¦ç‚¹** â†’ ç›´æ¥é€€å‡ºæœç´¢é¡µé¢
2. **æ¸…é™¤æŒ‰é’®ç„¦ç‚¹** â†’ è·³è½¬åˆ°æœç´¢æ¡†
3. **æºåˆ—è¡¨åŒºåŸŸ** â†’ è·³è½¬åˆ°æœç´¢æ¡†
4. **ç»“æœç½‘æ ¼åŒºåŸŸ** â†’ è·³è½¬åˆ°æºåˆ—è¡¨
5. **é»˜è®¤æƒ…å†µ** â†’ é€€å‡ºæœç´¢é¡µé¢

#### 3. é”®ç›˜äº‹ä»¶æ˜ å°„
```dart
case LogicalKeyboardKey.escape:
case LogicalKeyboardKey.goBack:
  return _handleBack();
```

## ğŸ® å®Œæ•´çš„è¿”å›é”®å¯¼èˆªæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æœç´¢é¡µé¢                              â”‚
â”‚                                                         â”‚
â”‚  [è¿”å›æŒ‰é’®] â†â”€ è¿”å›é”® â”€â†’ é€€å‡ºæœç´¢é¡µé¢                    â”‚
â”‚      â†“                                                  â”‚
â”‚  [æœç´¢æ¡†] â†â”€ è¿”å›é”® â†â”€ [æºåˆ—è¡¨]                         â”‚
â”‚      â†“                    â†‘                             â”‚
â”‚  [æ¸…é™¤æŒ‰é’®] â†â”€ è¿”å›é”® â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                                                         â”‚
â”‚  [ç»“æœç½‘æ ¼] â”€ è¿”å›é”® â”€â†’ [æºåˆ—è¡¨]                        â”‚
â”‚                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### ç„¦ç‚¹çŠ¶æ€æ£€æŸ¥
```dart
// ä¼˜å…ˆæ£€æŸ¥å…·ä½“çš„ç„¦ç‚¹èŠ‚ç‚¹
if (controller.backButtonFocusNode.hasFocus) {
  // è¿”å›æŒ‰é’®æœ‰ç„¦ç‚¹æ—¶ç›´æ¥é€€å‡º
  Get.back();
  return KeyEventResult.handled;
}

if (controller.clearButtonFocusNode.hasFocus) {
  // æ¸…é™¤æŒ‰é’®æœ‰ç„¦ç‚¹æ—¶å›åˆ°æœç´¢æ¡†
  controller.navigateToSearch();
  return KeyEventResult.handled;
}
```

### åŒºåŸŸçŠ¶æ€åˆ¤æ–­
```dart
// æ ¹æ®å½“å‰ç„¦ç‚¹åŒºåŸŸè¿›è¡Œå¯¼èˆª
switch (controller.focusedArea.value) {
  case 'sources':
    controller.navigateToSearch();
    return KeyEventResult.handled;
  case 'results':
    controller.navigateToSources();
    return KeyEventResult.handled;
  default:
    Get.back();
    return KeyEventResult.handled;
}
```

## ğŸš€ ç”¨æˆ·ä½“éªŒæå‡

### ç›´è§‚çš„å¯¼èˆªé€»è¾‘
- **é€çº§è¿”å›**ï¼šä»æ·±å±‚çº§é€æ­¥è¿”å›åˆ°ä¸Šå±‚çº§
- **æ™ºèƒ½åˆ¤æ–­**ï¼šæ ¹æ®å½“å‰ç„¦ç‚¹ä½ç½®æ™ºèƒ½é€‰æ‹©è¿”å›ç›®æ ‡
- **ä¸€è‡´ä½“éªŒ**ï¼šä¸å…¶ä»–é¡µé¢çš„è¿”å›é€»è¾‘ä¿æŒä¸€è‡´

### TVåº”ç”¨å‹å¥½
- **é¥æ§å™¨æ”¯æŒ**ï¼šå®Œæ•´æ”¯æŒé¥æ§å™¨çš„è¿”å›é”®
- **é”®ç›˜æ”¯æŒ**ï¼šæ”¯æŒEscapeé”®å’ŒGoBacké”®
- **ç„¦ç‚¹ç®¡ç†**ï¼šæ¸…æ™°çš„ç„¦ç‚¹çŠ¶æ€å’Œå¯¼èˆªè·¯å¾„

## âœ… æµ‹è¯•åœºæ™¯

### åŸºæœ¬è¿”å›æµ‹è¯•
1. **æœç´¢æ¡†çŠ¶æ€** â†’ æŒ‰è¿”å›é”® â†’ é€€å‡ºæœç´¢é¡µé¢
2. **æºåˆ—è¡¨çŠ¶æ€** â†’ æŒ‰è¿”å›é”® â†’ è·³è½¬åˆ°æœç´¢æ¡†
3. **ç»“æœç½‘æ ¼çŠ¶æ€** â†’ æŒ‰è¿”å›é”® â†’ è·³è½¬åˆ°æºåˆ—è¡¨
4. **è¿”å›æŒ‰é’®ç„¦ç‚¹** â†’ æŒ‰è¿”å›é”® â†’ é€€å‡ºæœç´¢é¡µé¢
5. **æ¸…é™¤æŒ‰é’®ç„¦ç‚¹** â†’ æŒ‰è¿”å›é”® â†’ è·³è½¬åˆ°æœç´¢æ¡†

### è¾¹ç•Œæƒ…å†µæµ‹è¯•
1. **å¿«é€Ÿè¿ç»­æŒ‰è¿”å›é”®**ï¼šç¡®ä¿ä¸ä¼šå‡ºç°å¼‚å¸¸
2. **ä¸åŒé”®ç›˜æŒ‰é”®**ï¼šæµ‹è¯•Escapeå’ŒGoBacké”®
3. **ç„¦ç‚¹çŠ¶æ€å¼‚å¸¸**ï¼šç¡®ä¿æœ‰é»˜è®¤çš„å¤„ç†é€»è¾‘

### å…¼å®¹æ€§æµ‹è¯•
1. **ä¸åŒè®¾å¤‡**ï¼šTVé¥æ§å™¨ã€è“ç‰™é”®ç›˜ã€USBé”®ç›˜
2. **ä¸åŒç³»ç»Ÿ**ï¼šAndroid TVã€æ¡Œé¢ç³»ç»Ÿç­‰
3. **æ··åˆæ“ä½œ**ï¼šé¼ æ ‡å’Œé”®ç›˜æ··åˆä½¿ç”¨

## ğŸ¯ é¢„æœŸæ•ˆæœ

ä¿®å¤åçš„è¿”å›é”®äº‹ä»¶åº”è¯¥èƒ½å¤Ÿï¼š

1. **âœ… æ­£ç¡®å“åº”**ï¼šè¿”å›é”®èƒ½æ­£ç¡®è§¦å‘ç›¸åº”çš„å¯¼èˆªåŠ¨ä½œ
2. **âœ… é€»è¾‘æ¸…æ™°**ï¼šè¿”å›è·¯å¾„ç¬¦åˆç”¨æˆ·ç›´è§‰
3. **âœ… çŠ¶æ€å‡†ç¡®**ï¼šç„¦ç‚¹çŠ¶æ€åˆ¤æ–­å‡†ç¡®æ— è¯¯
4. **âœ… ä½“éªŒæµç•…**ï¼šå¯¼èˆªè¿‡ç¨‹æµç•…è‡ªç„¶

ç°åœ¨æœç´¢é¡µé¢çš„è¿”å›é”®äº‹ä»¶åº”è¯¥èƒ½å¤Ÿæ­£å¸¸å·¥ä½œäº†ï¼å¦‚æœè¿˜æœ‰å…¶ä»–é—®é¢˜ï¼Œè¯·å‘Šè¯‰æˆ‘å…·ä½“çš„é”™è¯¯ä¿¡æ¯ã€‚